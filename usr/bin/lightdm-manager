#!/bin/bash

PYTHON=$(which python3)
if [ "$PYTHON" == '' ]; then
  echo "Cannot find python3 executable - exiting"
  exit
fi

optimize='OO'; case "$*" in *--debug*) unset optimize; esac
# Launch lightdm-manager with all passed arguments (future reserved)

CMD="$PYTHON -tt${optimize} /usr/lib/lightdm-manager/lightdm-manager.py $@"
if [ -e "/usr/bin/xksudo" ]; then
  xksudo -i "lightdm-manager" -c "$CMD"
elif [ -e "/usr/bin/kdesudo" ]; then
  kdesudo -d -c "$CMD"
else
  gksudo "$CMD"
fi
